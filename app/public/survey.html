<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- <link rel="stylesheet" href="style.css" class="style"> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Friend Finder Survey</title>
</head>

<body>
    <style>
        body {
            background-color: skyblue;
        }
        .mod {
            background-color: skyblue;
            font-size: 14px;
        }
        .match{
            font-size: 22px;
            color: #111;
            font-weight: bolder;
            border-bottom: solid 2px #ddd;
        }
        .ques {
            font-size: 22px;
            color: #111;
            font-weight: bolder;
            border-bottom: solid 2px #ddd;


        }

        .pref {
            color: snow;
            font-size: 14px;
            background-color: slateblue;
            margin-top: 2%;

            margin-left: 10%;
            margin-right: 10%;
            border-right: dotted 2px black;
            border-bottom: dotted 2px black;

        }

        .submitBtn {
            background-color: blue;
            margin-top: 4%;
            margin-left: 8%;
        }

        .icon1 {
            color: red;
        }

        .icon2 {
            color: green;
        }

        .icon3 {
            color: snow;
        }

        .icon4 {
            color: black;
        }

        .icon5 {
            color: snow;
        }

        .icon6 {
            color: yellow;
        }

        .icon7 {
            color: brown;
        }

        .icon8 {
            color: blue;
        }

        .icon9 {
            color: grey;
        }

        .icon10 {
            color: snow;
        }

        .head {
            color: #333;
            text-align: center;
        }
    </style>


 
  
<div id ="myModal" class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog mod" role="document">
      <div class="modal-content mod">
        <div class="modal-header pref">
          <h5 class="modal-title">Closest Match</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body mod">
          <p>Your closest Friend Match is: </p>
          <div id="match" class="match mod"></div>
        </div>
        <div class="modal-footer mod">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          
        </div>
      </div>
    </div>
  </div>


 

    Friend Finder Survey
    <div class="container">
        <div class="row">
            <div class="head flow-text" id="head">
                For Each Question, select the preference that you identify with.
            </div>

            <form class="col s12">

                <i class="medium material-icons prefix icon1">favorite_border</i>
                <label class="flow-text ques">I Am Here For Friends Only (Question: 1)</label>
                <select id="ques1" class="browser-default pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>

                <i class="medium material-icons prefix icon2">language</i>
                <label class="flow-text ques">Higher Education is Important (Question: 2)</label>
                <select id="ques2" class="browser-default flow-text pref">
                    <option value="" disabled selected> Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>
                <i class="medium material-icons prefix icon3">cloud_queue</i>
                <label class="flow-text ques">Religion Plays An Important Role in My Life (Question: 3)</label>
                <select id="ques3" class="browser-default flow-text pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>
                <i class="medium material-icons prefix icon4">smartphone</i>
                <label class="flow-text ques">I am Interested in Politics or Current Events (Question: 4)</label>
                <select id="ques4" class="browser-default flow-text pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>
                <i class="medium material-icons prefix icon5">looks</i>
                <label class="flow-text ques">I Enjoy Outdoor Activities (Question: 5)</label>
                <select id="ques5" class="browser-default flow-text pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>
                <i class="medium material-icons prefix icon6">flight</i>
                <label class="flow-text ques">I Have Travelled a Lot throughout my Life (Question: 6)</label>
                <select id="ques6" class="browser-default flow-text pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>
                <i class="medium material-icons prefix icon7">palette</i>

                <label class="flow-text ques">I Appreciate the Finer Things (Question: 7)</label>
                <select id="ques7" class="browser-default flow-text pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>
                <i class="medium material-icons prefix icon8">ac_unit</i>
                <label class="flow-text ques">There is Intelligent Life on Other Planets. (Question: 8)</label>
                <select id="ques8" class="browser-default flow-text pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>
                <i class="medium material-icons prefix icon9">computer</i>
                <label class="flow-text ques">My Favorite Type of Movie Is (Question: 9)</label>
                <select id="ques9" class="browser-default flow-text pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Horror</option>
                    <option value="2">[2] - Action / Adventure / Sci Fi</option>
                    <option value="3">[3] - Documentary / Non Fiction </option>
                    <option value="4">[4] - Comedy / Romance </option>
                    <option value="5">[5] - Drama</option>
                </select>
                <i class="medium material-icons prefix icon10">smoke_free</i>
                <label class="flow-text ques">I Dine Out often (Question: 10)</label>
                <select id="ques10" class="browser-default flow-text pref">
                    <option value="" disabled selected>Select Preference</option>
                    <option value="1">[1] - Highly Disagree</option>
                    <option value="2">[2] - Disagree</option>
                    <option value="3">[3] - Neutral</option>
                    <option value="4">[4] - Agree</option>
                    <option value="5">[5] - Highly Agree</option>
                </select>
                <button id="submitBtn" class="btn waves-effect waves-light submitBtn" type="submit" name="action">Submit
                    <i class="material-icons right">send</i>
                </button>
                <!-- <input id="#ques0" type="text" class="validate">
                        <label for="#ques0">Question: 1</label> -->

                <!--                 
                    <div class="input-field">
                        <i class="material-icons prefix">ac_unit</i>
                        <input id="#ques1" type="text" class="validate">
                        <label for="#ques1">Question: 2</label>
                    </div>
                    <div class="input-field">
                        <i class="material-icons prefix">straighten</i>
                        <input id="#ques2" type="text" class="validate">
                        <label for="#ques2">Question: 3</label>
                    </div>
                    <div class="input-field">
                        <i class="large material-icons prefix">access_alarm</i>
                        <input id="#ques3" type="text" class="validate">
                        <label for="#ques3">Question: 4</label>
                    </div>
                    <div class="input-field">
                        <i class="large material-icons prefix">casino</i>
                        <input id="#ques4" type="text" class="validate">
                        <label for="#ques4">Question: 5</label>
                    </div>
                    <div class="input-field">
                        <i class="material-icons prefix">create</i>
                        <input id="#ques5" type="text" class="validate">
                        <label for="#ques5">Question: 6</label>
                    </div>
                    <div class="input-field">
                        <i class="material-icons prefix">flight</i>
                        <input id="#ques6" type="text" class="validate">
                        <label for="#ques6">Question: 7</label>
                    </div>

                    <div class="input-field">
                        <i class="large material-icons prefix">looks</i>
                        <input id="#ques7" type="text" class="validate">
                        <label for="#ques7">Question: 8</label>
                    </div>
                    <div class="input-field">
                        <i class="material-icons prefix">palette</i>
                        <input id="#ques8" type="text" class="validate">
                        <label for="#ques8">Question: 9</label>
                    </div>
                    <div class="input-field">
                        <i class="material-icons prefix">smoke_free</i>
                        <input id="#ques9" type="text" class="validate">
                        <label for="#ques9">Question: 10</label>
                    </div>
                    <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                        <i class="material-icons right">send</i>
                    </button> -->
        </div>
        </form>
    </div>
    </div>
    </form>
    </div>
    </div>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!--SEND DATA TO SERVER -->
    <script type="text/javascript">
  
        var best;
        

        $("#submitBtn").on("click", function (event) {
            event.preventDefault();

            // Pull form data
            var survey = {
                ques1: $("#ques1").val(),
                ques2: $("#ques2").val(),
                ques3: $("#ques3").val(),
                ques4: $("#ques4").val(),
                ques5: $("#ques5").val(),
                ques6: $("#ques6").val(),
                ques7: $("#ques7").val(),
                ques8: $("#ques8").val(),
                ques9: $("#ques9").val(),
                ques10: $("#ques10").val(),
                total: 29
            };

            //get the sum of the value here for the new friend
            survey.total = Number(survey.ques1) + Number(survey.ques2) + Number(survey.ques3) + Number(survey.ques4) + Number(survey.ques5) + Number(survey.ques6) + Number(survey.ques7) + Number(survey.ques8) + Number(survey.ques9) + Number(survey.ques10);

            //make friends object available here or make it its own route for 

            //modal.show() here after calculation

            $.post("/api/friends", survey,
                function (data) {

                    if (!data) {
                        throw err;
                    }

                    console.log(data);
                });

            // Clear the form when submitting
            for (var i = 0; i <= 9; i++) {
                $("#ques" + i).val("")
            }

            $.ajax({
                type: "GET",
                url: "/api/match",
                data: best,
                success: function (result) {
                    console.log(result);
                    $("#match").html(result);
                    $('#myModal').modal();
                }

            });

           
            
    // $('#modal1').modal('open');
 
        })

    </script>

</body>

</html>